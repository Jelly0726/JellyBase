<%@ page language="java" import="java.util.*" pageEncoding="ISO-8859-1"%>
<%
String path = request.getContextPath();
String basePath = request.getScheme() + "://"
+ request.getServerName() + ":" + request.getServerPort()
+ path + "/";
%>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
    <base href="<%=basePath%>">

    <title>My JSP 'index.jsp' starting page</title>
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="This is my page">
    <script type="text/javascript" src="./js/RSA.js"></script>

    <script type="text/javascript">
    function rsalogin() {
        var thisPwd = document.getElementById("password").value;
        var result = encryptedString(getKey(), encodeURIComponent(thisPwd));
        loginForm.action = "login.do?result=" + result;
        loginForm.submit();
    }

    function getKey() {
        setMaxDigits(130);
        // 指数和模数可以根据需求，从后台获取，或者写在前端代码中
        key = new RSAKeyPair(
                "<加密指数>",
                "<解密指数>",
                "<公Key模数>");
        return key;
    }
</script>
</head>

<body>
<form method="post" name="loginForm" target=_blank>
    Password:<input type='text' name="password" id="password" style='width:400px' value="test" />
    <input type="button" value="SUBMIT" onclick="rsalogin();" />
</form>
<br>
</body>
</html>